<!DOCTYPE html>
<html lang="en">
  <head>
    <base th:href="${contextPath}" href="/pages/" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"
      name="viewport"
    />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <meta content="email=no" name="format-detection" />
    <title>系统消息</title>
    <base href="../" />
    <link rel="stylesheet" href="public/css/common.css" />
    <link rel="stylesheet" href="public/css/systemMsg.css" />
    <style>
      [v-if] {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="msg" v-if>
      <ul>
        <li class="clearfloat" v-for="(msg,index) in list">
          <div class="item-left">
            <img src="./public/img/system_1@2x.png" v-if="msg.level == 1" />
            <img src="./public/img/system_2@2x.png" v-if="msg.level == 2" />
            <img src="./public/img/system@2x.png" v-if="msg.level == 3" />
          </div>
          <div class="item-right" :class="{borderNone:index == list.length-1}">
            <p>{{ msg.context }}</p>
            <div class="time-box">
              {{ msg.createtime | msgTime }}
            </div>
          </div>
        </li>
      </ul>
      <div v-show="isLoading" class="text-center loading-box">
        <img src="./public/img/jiazai.gif" />
      </div>
      <div class="empty-box" v-if="!list.length && !isLoading">
        <img src="./public/img/xitongxiaoxi@2x.png" />
        <p>暂无消息~</p>
      </div>
    </div>
    <script src="plugin/jquery/jquery-3.2.1.min.js"></script>
    <script src="plugin/vue/vue.js"></script>
    <script src="public/js/vue-common.js"></script>
    <script src="public/js/common.js"></script>
    <script src="public/js/systemMsg.js"></script>
  </body>
</html>
